<?php
$morse_code = [
    "-.-.--" => "!",
    ".-..-."=> "\"",
    "...-..-"=>  "$",
    ".-..."=> "&",
    ".----."=> "'",
    "-.--."=> "(",
    "-.--.-"=> ")",
    ".-.-."=> "+",
    "--..--"=> ",",
    "-....-"=> "-",
    ".-.-.-"=> ".",
    "-..-."=> "/",
    "-----"=> "0",
    ".----"=> "1",
    "..---"=> "2",
    "...--"=> "3",
    "....-"=> "4",
    "....."=> "5",
    "-...."=> "6",
    "--..."=> "7",
    "---.."=> "8",
    "----."=> "9",
    "---..."=> ":",
    "-.-.-."=> ";",
    "-...-"=> "=",
    "..--.."=> "?",
    ".--.-."=> "@",
    ".-"=> "A",
    "-..."=> "B",
    "-.-."=> "C",
    "-.."=> "D",
    "."=> "E",
    "..-."=> "F",
    "--."=> "G",
    "...."=> "H",
    ".."=> "I",
    ".---"=> "J",
    "-.-"=> "K",
    ".-.."=> "L",
    "--"=> "M",
    "-."=> "N",
    "---"=> "O",
    ".--."=> "P",
    "--.-"=> "Q",
    ".-."=> "R",
    "..."=> "S",
    "-"=> "T",
    "..-"=> "U",
    "...-"=> "V",
    ".--"=> "W",
    "-..-"=> "X",
    "-.--"=> "Y",
    "--.."=> "Z",
    "..--.-"=> "_",
    "...---..."=> "SOS",
    // ""=> " ",
];
define("MORSE_CODE", $morse_code);

function decode_morse(string $morse): string {
    return strtr(trim($morse), MORSE_CODE + ['  ' => ' ', ' ' => '']);

    $word = "";
    $sentence = "";
    foreach(explode("  ", $morse) as $code) {
        foreach (explode(" ", $code) as $c) {
            $word .= MORSE_CODE[$c] ?? '';
        }
        $sentence .= $word . ' ';
        $word = "";
    }
    return trim($sentence);
}
// *** --- ***
echo(decode_morse('.... . -.--   .--- ..- -.. .'));
